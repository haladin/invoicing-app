<div class="row">
  <div class="col-8">
    <div *ngIf="message" class="alert alert-danger fade show mb-3" role="alert">
      {{ message }}
      <span
        type="button"
        class="close"
        data-dismiss="alert"
        aria-label="Close"
        (click)="onCloseMessage()"
        ><span aria-hidden="true">&times;</span></span
      >
    </div>
    <form [formGroup]="form" (ngSubmit)="submitForm()" *ngIf="!done">
      <div class="form-group input-group mb-3">
        <input type="file" (change)="uploadFile($event)" />
      </div>
      <div class="form-group input-group mb-3">
        <input
          class="form-control"
          placeholder="Currencies rates"
          formControlName="currencies"
        />
      </div>
      <div class="form-group input-group mb-3">
        <input
          class="form-control"
          placeholder="Output currency"
          formControlName="outputCurrency"
        />
      </div>
      <div class="form-group input-group mb-3">
        <input
          class="form-control"
          placeholder="Filter by VAT"
          formControlName="filterByVat"
        />
      </div>
      <div class="form-group input-group">
        <button class="btn btn-info">Generate report</button>
      </div>
    </form>

    <div class="form-group input-group" *ngIf="done">
      <button class="btn btn-info" (click)="onNew()">New report</button>
    </div>
    <div *ngIf="uploading" class="progress my-3">
      <div
        class="progress-bar progress-bar-info progress-bar-striped"
        role="progressbar"
        attr.aria-valuenow="{{ progress }}"
        aria-valuemin="0"
        aria-valuemax="100"
        [ngStyle]="{ width: progress + '%' }"
      >
        {{ progress }}%
      </div>
    </div>

    <div>
      <app-invoices-list
      class="traffic-light"
        [total]="total"
        *ngIf="done"
        class="my-3"
      ></app-invoices-list>
    </div>
  </div>
</div>
